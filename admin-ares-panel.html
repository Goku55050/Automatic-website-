<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Ares Anime – Admin Panel</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <link rel="stylesheet" href="style.css" />
</head>

<body id="admin" data-page="admin">
  <div class="stars-bg"></div>

  <header class="main-header">
    <div class="logo">Ares Anime – Admin</div>
    <nav class="nav">
      <a href="index.html" class="nav-link">Home</a>
    </nav>
  </header>

  <main id="admin-panel" class="main-content">

    <h1 class="section-title">Admin Panel</h1>
    <p class="subtitle">
      Edit anime → seasons → episodes → JSON (Filemoon + StreamGH)
    </p>

    <!-- ================================
         SELECT ANIME
    =================================== -->
    <section class="admin-block">
      <h2>1. Select Anime</h2>

      <label>Choose Anime:</label>
      <select id="anime-select"></select>

      <h3>Basic Info</h3>

      <div class="admin-grid">
        <div>
          <label>Anime ID:</label>
          <input id="anime-id" placeholder="jjk" />
        </div>

        <div>
          <label>Title:</label>
          <input id="anime-title" placeholder="Anime Name" />
        </div>

        <div>
          <label>Poster URL:</label>
          <input id="anime-poster" placeholder="https://..." />
        </div>

        <div>
          <label>Description:</label>
          <textarea id="anime-description" rows="3"></textarea>
        </div>
      </div>
    </section>


    <!-- ================================
         SEASONS
    =================================== -->
    <section class="admin-block">
      <h2>2. Select Season</h2>

      <label>Choose Season:</label>
      <select id="season-select"></select>

      <h3>Season Info</h3>

      <div class="admin-grid">
        <div>
          <label>Season ID:</label>
          <input id="season-id" placeholder="s1" />
        </div>

        <div>
          <label>Season Name:</label>
          <input id="season-name" placeholder="Season 1" />
        </div>

        <div>
          <label>Total Episodes:</label>
          <input id="season-total" type="number" />
        </div>
      </div>
    </section>


    <!-- ================================
         EPISODES TABLE
    =================================== -->
    <section class="admin-block">
      <h2>3. Episodes</h2>

      <table id="episode-table">
        <thead>
          <tr>
            <th>#</th>
            <th>Episode Title</th>
            <th>Filemoon URL</th>
            <th>StreamGH URL</th>
            <th>Download URL</th>
            <th></th>
          </tr>
        </thead>

        <tbody id="episode-tbody">
          <!-- Auto filled by JS -->
        </tbody>

      </table>

      <button id="add-episode-btn" class="btn-primary" style="margin-top: 12px;">
        + Add Episode
      </button>

  </section>
  <!-- ================================
         JSON OUTPUT
    =================================== -->
    <section class="admin-block">
      <h2>4. JSON Output</h2>
      <textarea id="json-output" rows="14"></textarea>

      <button id="save-btn" class="btn-secondary">Copy JSON</button>
    </section>

  </main>

  <footer class="main-footer">
    <p>
      Admin panel updates the live animeData object used by the entire site.
    </p>
  </footer>

  <script src="script.js"></script>

  <script>
    // Add-episode button simply calls the function directly
    document.getElementById("add-episode-btn").onclick = () => {
      // Empty episode row for new entry
      const newEp = {
        number: "",
        name: "",
        filemoonUrl: "",
        streamghUrl: "",
        downloadUrl: ""
      };
      // Function defined inside script.js
      const tbody = document.querySelector("#episode-tbody");
      if (tbody && window.addEpisodeRow) {
        addEpisodeRow(newEp);
      }
    };
  </script>

</body>
  </html>
